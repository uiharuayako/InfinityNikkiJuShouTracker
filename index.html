<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾—èƒœå·²æ˜¯å®šå±€</title>
    <link rel="icon" href="./icon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; background-color: #f3f4f6; }
        .checkbox-wrapper:hover { background-color: #eff6ff; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>

<div id="app" class="max-w-4xl mx-auto p-4 sm:p-6">
    <header class="mb-8 text-center">
        <div class="flex items-center justify-center gap-3 mb-2">
            <h1 class="text-3xl font-bold text-gray-800">ğŸ® æ— é™æš–æš–å·¨å…½å…»æˆç»“å±€è®°å½•è¡¨</h1>
            
            <a href="https://github.com/uiharuayako" target="_blank" 
               class="text-gray-400 hover:text-gray-900 transition-all duration-300 hover:scale-110"
               title="è®¿é—®æˆ‘çš„ GitHub ä¸»é¡µ">
                <svg viewBox="0 0 16 16" fill="currentColor" class="w-8 h-8">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                </svg>
            </a>
        </div>
        <p class="text-gray-500 text-sm mb-4">æ•°æ®ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ï¼Œè¯·å‹¿æ¸…é™¤ç¼“å­˜</p>
        
        <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200">
            <div class="flex justify-between items-end mb-2">
                <span class="font-bold text-gray-700">å½“å‰è¿›åº¦</span>
                <span class="text-blue-600 font-bold text-xl">{{ completedCount }} / {{ endings.length }}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                <div class="bg-blue-500 h-4 rounded-full transition-all duration-500 ease-out" 
                     :style="{ width: progressPercentage + '%' }"></div>
            </div>
            <div class="mt-2 text-right text-xs text-gray-500">
                å®Œæˆç‡: {{ progressPercentage }}%
            </div>
        </div>
    </header>

    <div class="mb-6 flex flex-wrap gap-2 justify-center">
        <button 
            @click="currentFilter = 'all'"
            :class="['px-4 py-2 rounded-full text-sm font-medium transition-colors', 
                     currentFilter === 'all' ? 'bg-blue-600 text-white shadow-md' : 'bg-white text-gray-600 hover:bg-gray-100 border border-gray-200']">
            å…¨éƒ¨æ˜¾ç¤º
        </button>
        <button 
            v-for="type in uniqueTypes" 
            :key="type"
            @click="currentFilter = type"
            :class="['px-4 py-2 rounded-full text-sm font-medium transition-colors', 
                     currentFilter === type ? 'bg-blue-600 text-white shadow-md' : 'bg-white text-gray-600 hover:bg-gray-100 border border-gray-200']">
            {{ type }}
        </button>
    </div>

    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-2">
        <div v-for="ending in filteredEndings" :key="ending.id" 
             class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow">
            
            <label class="flex items-start p-4 cursor-pointer checkbox-wrapper h-full">
                <div class="flex items-center h-6">
                    <input type="checkbox" 
                           :value="ending.id" 
                           v-model="checkedIds" 
                           @change="saveProgress"
                           class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300">
                </div>
                
                <div class="ml-4 flex-1">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-bold text-gray-800" :class="{'line-through text-gray-400': isChecked(ending.id)}">
                            {{ ending.name }}
                        </h3>
                        <span class="text-xs px-2 py-1 rounded bg-gray-100 text-gray-500 border border-gray-200 shrink-0 ml-2">
                            {{ ending.type }}
                        </span>
                    </div>
                    
                    <div class="mt-3 bg-gray-50 p-2 rounded border border-gray-100">
                        <span class="font-bold text-gray-400 text-xs block mb-1">è¾¾æˆæ¡ä»¶:</span>
                        
                        <div v-if="!ending.isStats" class="text-sm font-bold text-gray-700 leading-snug">
                            {{ ending.condition }}
                        </div>
                        
                        <div v-else class="grid grid-cols-4 gap-2 text-center mt-1">
                            <div class="flex flex-col items-center">
                                <span class="text-gray-400 text-xs transform scale-90 mb-0.5">åŠ›é‡</span>
                                <span :class="['text-xl font-black font-mono leading-none', getGradeColor(ending.stats.str)]">{{ ending.stats.str }}</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <span class="text-gray-400 text-xs transform scale-90 mb-0.5">å¤´è„‘</span>
                                <span :class="['text-xl font-black font-mono leading-none', getGradeColor(ending.stats.int)]">{{ ending.stats.int }}</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <span class="text-gray-400 text-xs transform scale-90 mb-0.5">æƒ…æ„Ÿ</span>
                                <span :class="['text-xl font-black font-mono leading-none', getGradeColor(ending.stats.emo)]">{{ ending.stats.emo }}</span>
                            </div>
                            <div class="flex flex-col items-center">
                                <span class="text-gray-400 text-xs transform scale-90 mb-0.5">å¥½å¥‡</span>
                                <span :class="['text-xl font-black font-mono leading-none', getGradeColor(ending.stats.cur)]">{{ ending.stats.cur }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </label>
        </div>
    </div>

    <footer class="mt-12 text-center pb-8 border-t border-gray-200 pt-6">
        <button @click="resetProgress" class="text-red-500 text-sm underline hover:text-red-700">
            é‡ç½®æ‰€æœ‰è¿›åº¦
        </button>
        <p class="text-xs text-gray-400 mt-2">Designed by Uiharu å¥½å‹ç  LvKa74r</p>
        <p class="text-xs text-gray-400 mt-2">Designed for Nikki</p>
    </footer>
</div>

<script>
    const { createApp } = Vue;

    createApp({
        data() {
            return {
                currentFilter: 'all',
                checkedIds: [],
                endings: [
                    // å¹³å‡¡ç»“å±€
                    { id: 101, type: 'å¹³å‡¡ç»“å±€', name: 'å¹³å‡¡äº¦æ˜¯å¹¸ç¦', condition: 'æ€»å±æ€§>1996, ä¸”å±æ€§éƒ½ä¸é«˜äºA', isStats: false },
                    
                    // ç¨šæ‹™ç»“å±€
                    { id: 201, type: 'ç¨šæ‹™ç»“å±€', name: 'æ—¶å…‰å‡å›ºåœ¨ç«¥å¹´', condition: 'æ€»å±æ€§<600', isStats: false },
                    { id: 202, type: 'ç¨šæ‹™ç»“å±€', name: 'é‚£ä»½æš–æš–çš„å›å¿†', condition: 'æ€»å±æ€§<1997', isStats: false },

                    // æ™®é€šç»“å±€
                    { id: 301, type: 'æ™®é€šç»“å±€', name: 'å†²å‘€å¤§åŠ›å£«', condition: 'æ€»å±æ€§>1996, åŠ›é‡æœ€é«˜, æ²¡æœ‰Så±æ€§', isStats: false },
                    { id: 302, type: 'æ™®é€šç»“å±€', name: 'æˆä¸ºæ€æƒ³å®¶', condition: 'æ€»å±æ€§>1997, å¤´è„‘æœ€é«˜, æ²¡æœ‰Så±æ€§', isStats: false },
                    { id: 303, type: 'æ™®é€šç»“å±€', name: 'å‹å¥½å¤§æ¯›ç»’', condition: 'æ€»å±æ€§>1998, æƒ…æ„Ÿæœ€é«˜, æ²¡æœ‰Så±æ€§', isStats: false },
                    { id: 304, type: 'æ™®é€šç»“å±€', name: 'çƒ­çƒˆæ¢é™©å®¶', condition: 'æ€»å±æ€§>1999, å¥½å¥‡æœ€é«˜, æ²¡æœ‰Så±æ€§', isStats: false },

                    // å¼‚æ‰ç»“å±€
                    { id: 401, type: 'å¼‚æ‰ç»“å±€', name: 'å¼ºè€…çš„æ¯æ—¥', isStats: true, stats: { str: 'S', int: 'C', emo: 'C', cur: 'C' } },
                    { id: 402, type: 'å¼‚æ‰ç»“å±€', name: 'å½“æ™ºæ…§æˆä¸ºæ—¥å¸¸', isStats: true, stats: { str: 'C', int: 'S', emo: 'C', cur: 'C' } },
                    { id: 403, type: 'å¼‚æ‰ç»“å±€', name: 'èµ ä½ ä¸€ç­å‹å¥½', isStats: true, stats: { str: 'C', int: 'C', emo: 'S', cur: 'C' } },
                    { id: 404, type: 'å¼‚æ‰ç»“å±€', name: 'è¿½é€å‘å¾€çš„æ–¹å‘', isStats: true, stats: { str: 'C', int: 'C', emo: 'C', cur: 'S' } },

                    // å“è¶Šç»“å±€
                    { id: 501, type: 'å“è¶Šç»“å±€', name: 'å¥”èµ´åŠ›é‡çš„è£å†³è€…', isStats: true, stats: { str: 'S', int: 'B', emo: 'B', cur: 'B' } },
                    { id: 502, type: 'å“è¶Šç»“å±€', name: 'æ‹¨å¼€è¿·é›¾çš„è§‚å¯Ÿè€…', isStats: true, stats: { str: 'B', int: 'S', emo: 'B', cur: 'B' } },
                    { id: 503, type: 'å“è¶Šç»“å±€', name: 'æ‹¥æŠ±æ£®æ—çš„å®ˆæœ›è€…', isStats: true, stats: { str: 'B', int: 'B', emo: 'S', cur: 'B' } },
                    { id: 504, type: 'å“è¶Šç»“å±€', name: 'æ”¶é›†é£æ™¯çš„æ—…è¡Œå®¶', isStats: true, stats: { str: 'B', int: 'B', emo: 'B', cur: 'S' } },

                    // è¿›åŒ–ç»“å±€
                    { id: 601, type: 'è¿›åŒ–ç»“å±€', name: 'æŠ«è†æ–©æ£˜çš„æ–—å£«', isStats: true, stats: { str: 'S', int: 'B', emo: 'C', cur: 'B' } },
                    { id: 602, type: 'è¿›åŒ–ç»“å±€', name: 'ç†æ™ºç¼šèº«çš„è´¤è€…', isStats: true, stats: { str: 'C', int: 'S', emo: 'B', cur: 'B' } },
                    { id: 603, type: 'è¿›åŒ–ç»“å±€', name: 'æš–æš–å°çªè‡ªæœ‰å¤©åœ°', isStats: true, stats: { str: 'B', int: 'B', emo: 'S', cur: 'C' } },
                    { id: 604, type: 'è¿›åŒ–ç»“å±€', name: 'æ»šçƒ«çš„æ¢ç´¢ä¹‹åŠ›', isStats: true, stats: { str: 'B', int: 'C', emo: 'B', cur: 'S' } },

                    // éšç§˜ç»“å±€
                    { id: 701, type: 'éšç§˜ç»“å±€', name: 'æ—…é€”ä¸­çš„ç”Ÿå‘½ç¢°æ’', isStats: true, stats: { str: 'S', int: 'B', emo: 'B', cur: 'C' } },
                    { id: 702, type: 'éšç§˜ç»“å±€', name: 'æ–¹å¯¸é‡Œçš„åšå›ºé“å£', isStats: true, stats: { str: 'S', int: 'C', emo: 'B', cur: 'B' } },
                    { id: 703, type: 'éšç§˜ç»“å±€', name: 'æ€æƒ³çš„æ·±æµ·åœ¨ä½•å¤„', isStats: true, stats: { str: 'B', int: 'S', emo: 'C', cur: 'B' } },
                    { id: 704, type: 'éšç§˜ç»“å±€', name: 'é”‹åˆ©å‰‘åˆƒæ‰€å‘æœ‰æ•Œ', isStats: true, stats: { str: 'B', int: 'S', emo: 'B', cur: 'C' } },
                    { id: 705, type: 'éšç§˜ç»“å±€', name: 'è™½ç„¶æ†¨åšä½†å¾ˆå¯çˆ±', isStats: true, stats: { str: 'B', int: 'C', emo: 'S', cur: 'B' } },
                    { id: 706, type: 'éšç§˜ç»“å±€', name: 'åƒé£åƒèŠ±ä¹Ÿåƒå¾®é›¨', isStats: true, stats: { str: 'C', int: 'B', emo: 'S', cur: 'B' } },
                    { id: 707, type: 'éšç§˜ç»“å±€', name: 'ä»¥å‹‡æ°”é™©èƒœäº†è–„å¼±', isStats: true, stats: { str: 'C', int: 'B', emo: 'B', cur: 'S' } },
                    { id: 708, type: 'éšç§˜ç»“å±€', name: 'ä¸å­¤ç‹¬ç‹‚å¥”çš„ç»“æœ', isStats: true, stats: { str: 'B', int: 'B', emo: 'C', cur: 'S' } },

                    // ç»ˆæç»“å±€
                    { id: 801, type: 'ç»ˆæç»“å±€', name: 'æ™ºæ…§ä¸ºåˆƒï¼Œç†æ€§ä¸ºå† ', isStats: true, stats: { str: 'S', int: 'A', emo: 'C', cur: 'B' } },
                    { id: 802, type: 'ç»ˆæç»“å±€', name: 'å¼€ç–†æ‹“åœŸçš„å…ˆé©±ä¹‹ç‹', isStats: true, stats: { str: 'S', int: 'B', emo: 'C', cur: 'A' } },
                    { id: 803, type: 'ç»ˆæç»“å±€', name: 'æŸ”è½¯æ°´æ³½çš„æ™ºæ…§ä¹‹å²›', isStats: true, stats: { str: 'C', int: 'S', emo: 'A', cur: 'B' } },
                    { id: 804, type: 'ç»ˆæç»“å±€', name: 'æ±‚çŸ¥æš—æ²³çš„é¢†èˆªè€…', isStats: true, stats: { str: 'C', int: 'S', emo: 'B', cur: 'A' } },
                    { id: 805, type: 'ç»ˆæç»“å±€', name: 'ä¸ºç¾ç»Šè€Œç”Ÿçš„é“ ç”²', isStats: true, stats: { str: 'A', int: 'B', emo: 'S', cur: 'C' } },
                    { id: 806, type: 'ç»ˆæç»“å±€', name: 'æ¸©æŸ”ç§©åºçš„å®ˆæŠ¤è€…', isStats: true, stats: { str: 'B', int: 'A', emo: 'S', cur: 'C' } },
                    { id: 807, type: 'ç»ˆæç»“å±€', name: 'å¤©ä¸åœ°çš„ä¸»å®°', isStats: true, stats: { str: 'A', int: 'C', emo: 'B', cur: 'S' } },
                    { id: 808, type: 'ç»ˆæç»“å±€', name: 'ç¿±ç¿”äºçƒˆé£ä¸­', isStats: true, stats: { str: 'B', int: 'C', emo: 'A', cur: 'S' } },
                ]
            }
        },
        computed: {
            uniqueTypes() { return [...new Set(this.endings.map(e => e.type))]; },
            filteredEndings() {
                if (this.currentFilter === 'all') return this.endings;
                return this.endings.filter(e => e.type === this.currentFilter);
            },
            completedCount() { return this.checkedIds.length; },
            progressPercentage() {
                if (this.endings.length === 0) return 0;
                return Math.round((this.checkedIds.length / this.endings.length) * 100);
            }
        },
        mounted() { this.loadProgress(); },
        methods: {
            // æ–°å¢æ–¹æ³•ï¼šæ ¹æ®ç­‰çº§è¿”å›é¢œè‰²æ ·å¼
            getGradeColor(grade) {
                const colors = {
                    'S': 'text-amber-500 drop-shadow-sm', // ç¥ç€é‡‘ + é˜´å½±
                    'A': 'text-purple-600',              // å²è¯—ç´«
                    'B': 'text-blue-500',                // ç¨€æœ‰è“
                    'C': 'text-emerald-500'              // ç¿¡ç¿ ç»¿
                };
                return colors[grade] || 'text-gray-700';
            },
            isChecked(id) { return this.checkedIds.includes(id); },
            saveProgress() { localStorage.setItem('game_ending_progress', JSON.stringify(this.checkedIds)); },
            loadProgress() {
                const saved = localStorage.getItem('game_ending_progress');
                if (saved) {
                    try { this.checkedIds = JSON.parse(saved); } catch (e) { console.error('è¯»å–å­˜æ¡£å¤±è´¥', e); }
                }
            },
            resetProgress() {
                if(confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®°å½•å—ï¼Ÿ')) {
                    this.checkedIds = [];
                    this.saveProgress();
                }
            }
        }
    }).mount('#app')
</script>
</body>
</html>